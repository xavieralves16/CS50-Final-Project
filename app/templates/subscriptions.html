{% extends "base.html" %}
{% block content %}
<h1>Subscriptions</h1>
<ul id="subs-list"></ul>

<script>
  // Fetch subscriptions from Flask backend
  fetch("/subscriptions/all")
    .then(response => response.json())
    .then(data => {
      const list = document.getElementById("subs-list");
      if (data.length === 0) {
        list.innerHTML = "<li>No subscriptions found.</li>";
      } else {
        data.forEach(sub => {
          const li = document.createElement("li");
          li.textContent = 
            `Subscription #${sub.id} â†’ User: ${sub.user_id}, Product: ${sub.product_id}, Active: ${sub.active}`;
          list.appendChild(li);
        });
      }
    })
    .catch(err => console.error("Error loading subscriptions:", err));
</script>
{% endblock %}